{"ast":null,"code":"import { FETCH_POSTS, NEW_POST, DELETE_POST, UPDATE_POST } from './types';\nexport var fetchPosts = function fetchPosts() {\n  return function (dispatch) {\n    var url = 'http://127.0.0.1:8000/api/items/?format=json';\n    fetch(url).then(function (res) {\n      return res.json();\n    }).then(function (posts) {\n      return dispatch({\n        type: FETCH_POSTS,\n        payload: posts\n      });\n    }).catch(function (err) {\n      console.error(\"ERROR\" + err);\n    });\n  };\n};\nexport var createPost = function createPost(postData) {\n  return function (dispatch) {\n    var url = 'http://127.0.0.1:8000/api/items/';\n    fetch(url, {\n      method: 'POST',\n      headers: {\n        'content-type': 'application/json'\n      },\n      body: JSON.stringify(postData)\n    }).then(function (res) {\n      return res.json();\n    }).then(function (post) {\n      return dispatch({\n        type: NEW_POST,\n        payload: post\n      });\n    });\n  };\n};\nexport var updatePost = function updatePost(postID) {\n  return function (postData) {\n    return function (dispatch) {\n      var url = \"http://127.0.0.1:8000/api/items/\".concat(postID);\n      fetch(url, {\n        method: 'POST',\n        headers: {\n          'content-type': 'application/json'\n        },\n        body: JSON.stringify(postData)\n      }).then(function (res) {\n        return res.json();\n      }).then(function (post) {\n        return dispatch({\n          type: NEW_POST,\n          payload: post\n        });\n      });\n    };\n  };\n};\nexport var deletePost = function deletePost(postID) {\n  return function (dispatch) {\n    var url = \"http://127.0.0.1:8000/api/items/\".concat(postID);\n    console.log(\"URL USED FOR DELETE: \" + url);\n    fetch(url, {\n      method: 'DELETE'\n    }).then(function (res) {\n      return res.json();\n    }).then(function (post) {\n      return dispatch({\n        type: UPDATE_POST,\n        //postID\n        payload: post\n      });\n    });\n  };\n};","map":{"version":3,"sources":["C:\\Users\\Daniel\\Desktop\\ReactDjango\\ReactDjango\\frontend\\src\\actions\\postActions.js"],"names":["FETCH_POSTS","NEW_POST","DELETE_POST","UPDATE_POST","fetchPosts","dispatch","url","fetch","then","res","json","posts","type","payload","catch","err","console","error","createPost","postData","method","headers","body","JSON","stringify","post","updatePost","postID","deletePost","log"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,QAAtB,EAAgCC,WAAhC,EAA6CC,WAA7C,QAA+D,SAA/D;AAEA,OAAO,IAAMC,UAAU,GAAG,SAAbA,UAAa;AAAA,SAAM,UAAAC,QAAQ,EAAI;AAC1C,QAAMC,GAAG,GAAG,8CAAZ;AAEAC,IAAAA,KAAK,CAACD,GAAD,CAAL,CACCE,IADD,CACM,UAAAC,GAAG;AAAA,aAAIA,GAAG,CAACC,IAAJ,EAAJ;AAAA,KADT,EAECF,IAFD,CAEM,UAAAG,KAAK;AAAA,aACPN,QAAQ,CAAC;AACPO,QAAAA,IAAI,EAAEZ,WADC;AAEPa,QAAAA,OAAO,EAAEF;AAFF,OAAD,CADD;AAAA,KAFX,EAOIG,KAPJ,CAOU,UAAAC,GAAG,EAAI;AACbC,MAAAA,OAAO,CAACC,KAAR,CAAc,UAAUF,GAAxB;AAED,KAVH;AAWD,GAdyB;AAAA,CAAnB;AAgBP,OAAO,IAAMG,UAAU,GAAG,SAAbA,UAAa,CAAAC,QAAQ;AAAA,SAAI,UAAAd,QAAQ,EAAI;AAChD,QAAMC,GAAG,GAAG,kCAAZ;AACAC,IAAAA,KAAK,CAACD,GAAD,EAAM;AACTc,MAAAA,MAAM,EAAE,MADC;AAETC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT,OAFA;AAKTC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeL,QAAf;AALG,KAAN,CAAL,CAOGX,IAPH,CAOQ,UAAAC,GAAG;AAAA,aAAIA,GAAG,CAACC,IAAJ,EAAJ;AAAA,KAPX,EAQGF,IARH,CAQQ,UAAAiB,IAAI;AAAA,aACRpB,QAAQ,CAAC;AACPO,QAAAA,IAAI,EAAEX,QADC;AAEPY,QAAAA,OAAO,EAAEY;AAFF,OAAD,CADA;AAAA,KARZ;AAcD,GAhBiC;AAAA,CAA3B;AAkBP,OAAO,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAAAC,MAAM;AAAA,SAAI,UAAAR,QAAQ;AAAA,WAAI,UAAAd,QAAQ,EACxD;AACE,UAAMC,GAAG,6CAAsCqB,MAAtC,CAAT;AACApB,MAAAA,KAAK,CAACD,GAAD,EAAM;AACTc,QAAAA,MAAM,EAAE,MADC;AAETC,QAAAA,OAAO,EAAE;AACP,0BAAgB;AADT,SAFA;AAKTC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeL,QAAf;AALG,OAAN,CAAL,CAOGX,IAPH,CAOQ,UAAAC,GAAG;AAAA,eAAIA,GAAG,CAACC,IAAJ,EAAJ;AAAA,OAPX,EAQGF,IARH,CAQQ,UAAAiB,IAAI;AAAA,eACRpB,QAAQ,CAAC;AACPO,UAAAA,IAAI,EAAEX,QADC;AAEPY,UAAAA,OAAO,EAAEY;AAFF,SAAD,CADA;AAAA,OARZ;AAeD,KAlB2C;AAAA,GAAZ;AAAA,CAAzB;AAoBP,OAAO,IAAMG,UAAU,GAAG,SAAbA,UAAa,CAAAD,MAAM;AAAA,SAAI,UAAAtB,QAAQ,EAC5C;AACE,QAAMC,GAAG,6CAAsCqB,MAAtC,CAAT;AACAX,IAAAA,OAAO,CAACa,GAAR,CAAY,0BAA0BvB,GAAtC;AAEAC,IAAAA,KAAK,CAACD,GAAD,EAAM;AACTc,MAAAA,MAAM,EAAE;AADC,KAAN,CAAL,CAGGZ,IAHH,CAGQ,UAAAC,GAAG;AAAA,aAAIA,GAAG,CAACC,IAAJ,EAAJ;AAAA,KAHX,EAIGF,IAJH,CAIQ,UAAAiB,IAAI;AAAA,aACRpB,QAAQ,CAAC;AACPO,QAAAA,IAAI,EAAET,WADC;AAEP;AACAU,QAAAA,OAAO,EAAEY;AAHF,OAAD,CADA;AAAA,KAJZ;AAYD,GAjB+B;AAAA,CAAzB","sourcesContent":["import { FETCH_POSTS, NEW_POST, DELETE_POST, UPDATE_POST} from './types';\r\n\r\nexport const fetchPosts = () => dispatch => {\r\n  const url = 'http://127.0.0.1:8000/api/items/?format=json';   \r\n\r\n  fetch(url)\r\n  .then(res => res.json())\r\n  .then(posts =>\r\n      dispatch({\r\n        type: FETCH_POSTS,\r\n        payload: posts\r\n      })\r\n    ).catch(err => {\r\n      console.error(\"ERROR\" + err);\r\n  \r\n    });\r\n};\r\n\r\nexport const createPost = postData => dispatch => {\r\n  const url = 'http://127.0.0.1:8000/api/items/';\r\n  fetch(url, {\r\n    method: 'POST',\r\n    headers: {\r\n      'content-type': 'application/json'\r\n    },\r\n    body: JSON.stringify(postData)\r\n  })\r\n    .then(res => res.json())\r\n    .then(post =>\r\n      dispatch({\r\n        type: NEW_POST,\r\n        payload: post\r\n      })\r\n    );\r\n};\r\n\r\nexport const updatePost = postID => postData => dispatch =>\r\n{\r\n  const url = `http://127.0.0.1:8000/api/items/${postID}`;\r\n  fetch(url, {\r\n    method: 'POST',\r\n    headers: {\r\n      'content-type': 'application/json'\r\n    },\r\n    body: JSON.stringify(postData)\r\n  })\r\n    .then(res => res.json())\r\n    .then(post =>\r\n      dispatch({\r\n        type: NEW_POST,\r\n        payload: post\r\n      })\r\n    );\r\n\r\n};\r\n\r\nexport const deletePost = postID => dispatch =>\r\n{\r\n  const url = `http://127.0.0.1:8000/api/items/${postID}`;\r\n  console.log(\"URL USED FOR DELETE: \" + url);\r\n\r\n  fetch(url, {\r\n    method: 'DELETE'\r\n  })\r\n    .then(res => res.json())\r\n    .then(post =>\r\n      dispatch({\r\n        type: UPDATE_POST,\r\n        //postID\r\n        payload: post\r\n      })\r\n    );\r\n\r\n};"]},"metadata":{},"sourceType":"module"}